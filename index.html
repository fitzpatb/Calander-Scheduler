<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container col-10 time-block">
      <!-- Timeblocks go here -->
      <div class="row" id="nineAm">
        <div class="col-1 hour">9AM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="tenAm">
        <div class="col-1 hour">10AM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="elevenAm">
        <div class="col-1 hour">11AM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="twelvePm">
        <div class="col-1 hour">12PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="onePm">
        <div class="col-1 hour">1PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="twoPm">
        <div class="col-1 hour">2PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="threePm">
        <div class="col-1 hour">3PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="fourPm">
        <div class="col-1 hour">4PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
      <div class="row" id="fivePm">
        <div class="col-1 hour">5PM</div>
        <textarea class="col-10 description"></textarea>
        <div class="col-1 saveBtn"></div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script>
      //assign values to the individual description divs
      //code each div individually
      //if the div value matches the hour make the div be present
      $(document).ready(function() {
        var todaysDate = $("#currentDay");
        todaysDate.text(moment().format('dddd, MMMM Do'));

        var nineTask = $("#nineAm .description");
        var tenTask = $("#tenAm .description");
        var elevenTask = $("#elevenAm .description");
        var twelveTask = $("#twelvePm .description");
        var oneTask = $("#onePm .description");
        var twoTask = $("#twoPm .description");
        var threeTask = $("#threePm .description");
        var fourTask = $("#fourPm .description");
        var fiveTask = $("#fivePm .description");

        var tasks = $(".description");

        var nineSave = $("#nineAm .saveBtn");
        var tenSave = $("#tenAm .saveBtn");
        var elevenSave = $("#elevenAm .saveBtn");
        var twelveSave = $("twelvePm .saveBtn");
        var oneSave = $("onePm .saveBtn");
        var twoSave = $("twoPm .saveBtn");
        var threeSave = $("threePm .saveBtn");
        var fourSave = $("fourPm .saveBtn");
        var fiveSave = $("fivePm .saveBtn");

        nineTask.text(localStorage.getItem('nine'));
        tenTask.text(localStorage.getItem('ten'));
        elevenTask.text(localStorage.getItem('eleven'));
        twelveTask.text(localStorage.getItem('twelve'));
        oneTask.text(localStorage.getItem('one'));
        twoTask.text(localStorage.getItem('two'));
        threeTask.text(localStorage.getItem('three'));
        fourTask.text(localStorage.getItem('four'));
        fiveTask.text(localStorage.getItem('five'));


        //stuff = localStorage.getItem('thing');

        nineSave.on("click", function() {
          var nine = $("#nineAm textarea").val();
          localStorage.setItem('nine', nine);
        });
        tenSave.on("click", function() {
          var ten = $("#tenAm textarea").val();
          localStorage.setItem('ten', ten);
        });
        elevenSave.on("click", function() {
          var eleven = $("#elevenAm textarea").val();
          localStorage.setItem('eleven', eleven);
        });
        twelveSave.on("click", function() {
          var twelve = $("#twelvePm textarea").val();
          localStorage.setItem('twelve', twelve);
        });
        oneSave.on("click", function() {
          var one = $("#onePm textarea").val();
          localStorage.setItem('one', one);
        });
        twoSave.on("click", function() {
          var two = $("#twoPm textarea").val();
          localStorage.setItem('two', two);
        });
        threeSave.on("click", function() {
          var three = $("#threePm textarea").val();
          localStorage.setItem('three', three);
        });
        fourSave.on("click", function() {
          var four = $("#fourPm textarea").val();
          localStorage.setItem('four', four);
        });
        fiveSave.on("click", function() {
          var five = $("#fivePm textarea").val();
          localStorage.setItem('five', five);
        });






        function setBackground() {

          if (moment().format('hA') === "12AM" || moment().format('hA') === "1AM" || moment().format('hA') === "2AM" || moment().format('hA') === "3AM" || moment().format('hA') === "4AM" || moment().format('hA') === "5AM" || moment().format('hA') === "6AM" || moment().format('hA') === "7AM" || moment().format('hA') === "8AM") {
            tasks.removeClass("past").addClass("future");
            localStorage.clear();
          } else if (moment().format('hA') === "9AM") {
            tasks.removeClass("past").addClass("future");
            nineTask.removeClass("future").addClass("present");
          } else if (moment().format('hA') === "10AM") {
            tasks.removeClass("past").addClass("future");
            nineTask.removeClass("present future").addClass("past");
            tenTask.removeClass("future").addClass("present");
          } else if (moment().format('hA') === "11AM") {
            tasks.removeClass("past").addClass("future");
            tenTask.removeClass("present future").addClass("past");
            elevenTask.removeClass("future").addClass("present");
            nineTask.removeClass("future").addClass("past");
          } else if (moment().format('hA') === "12PM") {
            tasks.removeClass("past").addClass("future");
            elevenTask.removeClass("present future").addClass("past");
            twelveTask.removeClass("future").addClass("present");
            nineTask.removeClass("future").addClass("past");
            tenTask.removeClass("future").addClass("past");
          } else if (moment().format('hA') === "1PM") {
            tasks.removeClass("past").addClass("future");
            twelveTask.removeClass("present future").addClass("past");
            oneTask.removeClass("future").addClass("present");
            nineTask.removeClass("future").addClass("past");
            tenTask.removeClass("future").addClass("past");
            elevenTask.removeClass("future").addClass("past");
          } else if (moment().format('hA') === "2PM") {
            tasks.removeClass("future").addClass("past");
            oneTask.removeClass("present future").addClass("past");
            twoTask.removeClass("future").addClass("present");
            threeTask.removeClass("past").addClass("future");
            fourTask.removeClass("past").addClass("future");
            fiveTask.removeClass("past").addClass("future");
          } else if (moment().format('hA') === "3PM") {
            tasks.removeClass("future").addClass("past");
            twoTask.removeClass("present future").addClass("past");
            threeTask.removeClass("future").addClass("present");
            fourTask.removeClass("past").addClass("future");
            fiveTask.removeClass("past").addClass("future");
          } else if (moment().format('hA') === "4PM") {
            tasks.removeClass("future").addClass("past");
            threeTask.removeClass("present future").addClass("past");
            fourTask.removeClass("future").addClass("present");
            fiveTask.removeClass("past").addClass("future");
          } else if (moment().format('hA') === "5PM") {
            tasks.removeClass("future").addClass("past");
            fourTask.removeClass("present").addClass("past");
            fiveTask.removeClass("future past").addClass("present");
          } else {
            tasks.removeClass("present").addClass("past");
          }
        }

        setInterval(setBackground, 1000);


        //focus on the time element
        //make it so that when the time is 8AM all boxes are green for future.
        //as each hour passes change the box that needs the present class
        //as the next hour approaches change class on the the new present and old present
        //repeat until all elements are in past class
        //at 6pm change all elements to future class



      });
    </script>
  </body>
</html>
